# ๐ ุฑุงูููุง ุฑุงูโุงูุฏุงุฒ ูพูู ุงุฏูู

## ๐ ูุฑุงุญู ูุตุจ

### ูุฑุญูู 1: ุงุฌุฑุง ุงุณฺฉุฑูพุช SQL ุฏุฑ Supabase

1. ูุงุฑุฏ ูพูู Supabase ุดูุฏ: https://supabase.com/dashboard
2. ูพุฑูฺู ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. ุงุฒ ููู ุณูุช ฺูพุ ุฑู **SQL Editor** ฺฉูฺฉ ฺฉูุฏ
4. ูุงู `supabase/schema_admin.sql` ุฑุง ุจุงุฒ ฺฉูุฏ
5. ุชูุงู ูุญุชูุง ุขู ุฑุง ฺฉูพ ฺฉุฑุฏู ู ุฏุฑ SQL Editor ูพุณุช ฺฉูุฏ
6. ุฑู **Run** ฺฉูฺฉ ฺฉูุฏ

โ ุงู ุงุณฺฉุฑูพุช ุฌุฏุงูู ุฒุฑ ุฑุง ุงุฌุงุฏ ูโฺฉูุฏ:
- `feature_flags`: ุชุนุฑู ูฺุฑูุง ุณุณุชู
- `user_features`: ูฺุฑูุง ุงุฎุชุตุงุต ุฏุงุฏู ุดุฏู ุจู ูุฑ ฺฉุงุฑุจุฑ
- `admins`: ูุณุช ุงุฏููโูุง
- `admin_audit_log`: ูุงฺฏ ุชุบุฑุงุช ุงุฏููโูุง

---

### ูุฑุญูู 2: ุงุถุงูู ฺฉุฑุฏู ุงููู Super Admin

1. ุงุจุชุฏุง ฺฉ ุงฺฉุงูุช ฺฉุงุฑุจุฑ ุฏุฑ ุณุณุชู ุจุณุงุฒุฏ (ุซุจุชโูุงู ูุนููู)
2. ุงุฒ ูพูู Supabaseุ ุจุฎุด **Authentication** > **Users** ุจุฑูุฏ
3. User ID ุฎูุฏุชุงู ุฑุง ฺฉูพ ฺฉูุฏ (ฺฉ UUID ูุซู: `a1b2c3d4-...`)
4. ุฏุฑ **SQL Editor** ุงู ุฏุณุชูุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:

```sql
INSERT INTO admins (user_id, email, role, is_active)
VALUES (
    'YOUR_USER_ID_HERE',  -- ุฌุงฺฏุฒู ฺฉูุฏ
    'your-email@example.com',  -- ุฌุงฺฏุฒู ฺฉูุฏ
    'super_admin',
    true
);
```

โ ุญุงูุง ุดูุง Super Admin ุดุฏุฏ!

---

### ูุฑุญูู 3: ุฏุณุชุฑุณ ุจู ูพูู ุงุฏูู

ูพูู ุงุฏูู ุฏุฑ ุขุฏุฑุณ ุฒุฑ ูุฑุงุฑ ุฏุงุฑุฏ:

```
http://localhost:5175/admin.html
```

ุง ุฏุฑ production:

```
https://yourdomain.com/admin.html
```

**ูุงฺฏู:**
- ุงุฒ ููุงู ุงูู ู ูพุณูุฑุฏ ฺฉู ุฏุฑ ูุฑุญูู 2 ุณุงุฎุชุฏ ุงุณุชูุงุฏู ฺฉูุฏ
- ุงฺฏุฑ ุงุฏูู ูุจุงุดุฏุ ูพุงู "Access Denied" ููุงุด ุฏุงุฏู ูโุดูุฏ

---

## ๐๏ธ ุงุณุชูุงุฏู ุงุฒ ูพูู ุงุฏูู

### 1๏ธโฃ ูุฏุฑุช ูฺุฑูุง ฺฉุงุฑุจุฑุงู

#### ุฌุณุชุฌู ฺฉุงุฑุจุฑ:
1. ุงุฒ ุชุจ **"ูุฏุฑุช ฺฉุงุฑุจุฑุงู"** ุงุณุชูุงุฏู ฺฉูุฏ
2. ุงูู ฺฉุงุฑุจุฑ ุฑุง ุฏุฑ ุจุงฺฉุณ ุฌุณุชุฌู ูุงุฑุฏ ฺฉูุฏ
3. ุฑู **ุฌุณุชุฌู** ฺฉูฺฉ ฺฉูุฏ

#### ูุนุงู/ุบุฑูุนุงู ฺฉุฑุฏู ูฺุฑูุง:
- ุฑู ูุฑ checkbox ฺฉูฺฉ ฺฉูุฏ ุชุง ูฺุฑ ูุนุงู/ุบุฑูุนุงู ุดูุฏ
- ุชุบุฑุงุช ููุฑ ุงุนูุงู ูโุดูุฏ

#### ุงุฎุชุตุงุต ูพูู ุณุฑุน:
- ุงุฒ ุฏฺฉููโูุง **Free**, **Starter**, **Pro**, **Enterprise** ุงุณุชูุงุฏู ฺฉูุฏ
- ุชูุงู ูฺุฑูุง ุขู ูพูู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ูุนุงู ูโุดูุฏ

---

### 2๏ธโฃ ูพููโูุง ููุฌูุฏ

| Plan | ุชุนุฏุงุฏ ูพุฑูฺู | AI Messages | Team Sharing | Export | Phases |
|------|------------|-------------|--------------|--------|---------|
| **Free** | 1 | 50 | โ | โ | ุชุง ูุฑุญูู 3 |
| **Starter** | 3 | 500 | 2 ููุฑ | Basic | ููู ูุฑุงุญู |
| **Pro** | ูุงูุญุฏูุฏ | 2000 | 10 ููุฑ | Advanced | ููู ูุฑุงุญู |
| **Enterprise** | ูุงูุญุฏูุฏ | ูุงูุญุฏูุฏ | ูุงูุญุฏูุฏ | Advanced | ููู ูุฑุงุญู |

---

### 3๏ธโฃ ุฏุณุชูโุจูุฏ ูฺุฑูุง

#### ๐ **Projects (ูพุฑูฺูโูุง)**
- `unlimited_projects`: ูพุฑูฺูโูุง ูุงูุญุฏูุฏ
- `max_projects_3`: ุญุฏุงฺฉุซุฑ 3 ูพุฑูฺู
- `max_projects_1`: ุญุฏุงฺฉุซุฑ 1 ูพุฑูฺู (Free)

#### ๐ค **AI**
- `unlimited_ai`: ูพุงูโูุง AI ูุงูุญุฏูุฏ
- `ai_credits_2000`: 2000 ูพุงู ุฏุฑ ูุงู
- `ai_credits_500`: 500 ูพุงู ุฏุฑ ูุงู
- `ai_credits_50`: 50 ูพุงู ุฏุฑ ูุงู (Free)

#### ๐ฅ **Team (ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ)**
- `team_sharing_unlimited`: ุงุดุชุฑุงฺฉ ูุงูุญุฏูุฏ
- `team_sharing_10`: ุงุดุชุฑุงฺฉ ุจุง 10 ููุฑ
- `team_sharing_2`: ุงุดุชุฑุงฺฉ ุจุง 2 ููุฑ
- `team_sharing_disabled`: ุจุฏูู ุงุดุชุฑุงฺฉ (Free)

#### ๐ค **Export**
- `export_advanced`: Export ุจู React, Vue, Next.js
- `export_basic`: Export ุจู HTML/CSS/JS
- `export_disabled`: ุจุฏูู Export (Free)

#### ๐ฏ **Phases (ูุฑุงุญู)**
- `all_phases`: ุฏุณุชุฑุณ ุจู ููู 8 ูุฑุญูู
- `phase_5_limit`: ุฏุณุชุฑุณ ุชุง ูุฑุญูู 5
- `phase_3_limit`: ุฏุณุชุฑุณ ุชุง ูุฑุญูู 3 (Free)

#### ๐พ **Storage (ุฐุฎุฑูโุณุงุฒ)**
- `storage_unlimited`: ูุถุง ูุงูุญุฏูุฏ
- `storage_5gb`: 5 ฺฏฺฏุงุจุงุช
- `storage_500mb`: 500 ูฺฏุงุจุงุช
- `storage_50mb`: 50 ูฺฏุงุจุงุช (Free)

---

## ๐ ุณูุงุฑู ูุนููู ูุฑูุด

### ููุช ฺฉุงุฑุจุฑ ูโุฎูุงุฏ ูพูู ุจุฎุฑู:

1. **ฺฉุงุฑุจุฑ ุจุง ุดูุง ุชูุงุณ ูโฺฏุฑู** (ุชูฺฏุฑุงูุ ุงููุ ูุงุชุณุงูพ)
2. **ูพุฑุฏุงุฎุช ุฏุณุช ุงูุฌุงู ูุดู** (ฺฉุงุฑุช ุจู ฺฉุงุฑุช ุง ุฏุฑฺฏุงู)
3. **ุดูุง ูุงุฑุฏ ูพูู ุงุฏูู ูโุดุฏ**
4. **ุงูู ฺฉุงุฑุจุฑ ุฑู ุฌุณุชุฌู ูโฺฉูุฏ**
5. **ุฑู ุฏฺฉูู ูพูู ููุฑุฏ ูุธุฑ ฺฉูฺฉ ูโฺฉูุฏ** (ูุซูุงู Pro)
6. **ฺฉุงุฑุจุฑ ููุฑ ุฏุณุชุฑุณ ูพุฏุง ูโฺฉูู!** โ

---

## ๐๏ธ ูฺฉุงุช ูู

### ฺฺฉ ฺฉุฑุฏู Feature Flags ุฏุฑ ฺฉุฏ

```typescript
import { useFeatureFlags } from './hooks/useFeatureFlags';

const MyComponent = () => {
    const {
        maxProjects,
        aiCredits,
        maxTeamMembers,
        planName
    } = useFeatureFlags();

    console.log(maxProjects); // 1, 3, ุง Infinity
    console.log(planName); // "Free", "Starter", "Pro", "Enterprise"
};
```

### ูุญุฏูุฏ ฺฉุฑุฏู ุชุนุฏุงุฏ ูพุฑูฺู:

```typescript
const canCreateProject = projects.length < maxProjects;

if (!canCreateProject) {
    alert('ุดูุง ุจู ุญุฏุงฺฉุซุฑ ุชุนุฏุงุฏ ูพุฑูฺู ุฑุณุฏูโุงุฏ. ุจุฑุง ุงูุฒุงุดุ ูพูู ุฎูุฏ ุฑุง ุงุฑุชูุง ุฏูุฏ.');
    return;
}
```

### ูุญุฏูุฏ ฺฉุฑุฏู AI Credits:

```typescript
const [aiUsage, setAiUsage] = useState(0);

const sendAIMessage = async () => {
    if (aiUsage >= aiCredits) {
        alert('ุงุนุชุจุงุฑ ูพุงูโูุง AI ุดูุง ุชูุงู ุดุฏู ุงุณุช.');
        return;
    }

    // ุงุฑุณุงู ูพุงู...
    setAiUsage(aiUsage + 1);
};
```

---

## ๐ ุงููุช

### Row Level Security (RLS)

ุชูุงู ุฌุฏุงูู ุจุง RLS ูุญุงูุธุช ุดุฏูโุงูุฏ:

- โ ููุท ุงุฏููโูุง ูโุชูุงููุฏ `feature_flags` ุฑุง ุจุจููุฏ
- โ ููุท ุงุฏููโูุง ูโุชูุงููุฏ `user_features` ุฑุง ูุฑุงุด ฺฉููุฏ
- โ ฺฉุงุฑุจุฑุงู ุนุงุฏ ููุท ูฺุฑูุง ุฎูุฏุดุงู ุฑุง ูโุจููุฏ
- โ ููุท Super Adminโูุง ูโุชูุงููุฏ ุงุฏูู ุฌุฏุฏ ุงุถุงูู ฺฉููุฏ

### Audit Log

ุชูุงู ุชุบุฑุงุช ุงุฏููโูุง ุฏุฑ ุฌุฏูู `admin_audit_log` ุซุจุช ูโุดูุฏ:

```sql
SELECT * FROM admin_audit_log
ORDER BY created_at DESC
LIMIT 50;
```

---

## ๐ ุจุนุฏุงู ฺ ุงุถุงูู ูโุดูุ

### ูุงุฒ 2: ุงุชููุงุชฺฉโุณุงุฒ (ูุงู ุจุนุฏ)
- โ ฺฉูพุงุฑฺูโุณุงุฒ ุจุง ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช (Stripe, ุฒุฑูโูพุงู)
- โ ูุนุงูโุณุงุฒ ุฎูุฏฺฉุงุฑ ุจุนุฏ ุงุฒ ูพุฑุฏุงุฎุช
- โ ุงูู ููุชูฺฉุดู
- โ ุตูุญู Pricing ุจุฑุง ฺฉุงุฑุจุฑุงู

### ูุงุฒ 3: ูพุดุฑูุชู (2-3 ูุงู ุจุนุฏ)
- โ Dashboard ุจุง ุขูุงุฑ ูุงูุน
- โ ฺฏุฒุงุฑุดุงุช ูุฑูุด
- โ ูุฏุฑุช ฺฉููพู ุชุฎูู
- โ ุงุดุชุฑุงฺฉ ูุงูุงูู/ุณุงูุงูู ุจุง ุชูุฏุฏ ุฎูุฏฺฉุงุฑ

---

## โ ุณูุงูุงุช ูุชุฏุงูู

### ฺุทูุฑ ฺฉ ฺฉุงุฑุจุฑ ุฑู ุจู Free plan ุจุฑฺฏุฑุฏูููุ
ุฑู ุฏฺฉูู **Free** ุฏุฑ ฺฉูุงุฑ ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ ฺฉูฺฉ ฺฉูุฏ.

### ฺุทูุฑ ฺฉ ูฺุฑ ุฑู ุจุฑุง ููู ูุนุงู ฺฉููุ
ุงุฒ ุชุจ **"ุชูุธูุงุช Global"** ุงุณุชูุงุฏู ฺฉูุฏ (ุจู ุฒูุฏ ูุนุงู ูโุดูุฏ).

### ฺุทูุฑ ฺฉ ุงุฏูู ุฌุฏุฏ ุงุถุงูู ฺฉููุ
ููุท Super Adminโูุง ูโุชูุงููุฏ ุงุฏูู ุงุถุงูู ฺฉููุฏ:

```sql
INSERT INTO admins (user_id, email, role)
VALUES ('USER_ID', 'email@example.com', 'admin');
```

### ุงฺฏุฑ ฺฉุงุฑุจุฑ ูพูู ูพุฑุฏุงุฎุช ฺฉุฑุฏ ูู ูฺุฑ ูุนุงู ูุดุฏุ
1. ูุทูุฆู ุดูุฏ ุงูู ุตุญุญ ุงุณุช
2. ฺฺฉ ฺฉูุฏ ฺฉู ุฏุฑ ุฌุฏูู `user_features` ุฑฺฉูุฑุฏ ุฏุฑุณุช ุซุจุช ุดุฏู
3. ุงุฒ ุชุงุจุน `refreshFeatures()` ุงุณุชูุงุฏู ฺฉูุฏ:

```typescript
const { refreshFeatures } = useFeatureFlags();
await refreshFeatures();
```

---

## ๐ ูพุดุชุจุงู

ุงฺฏุฑ ูุดฺฉู ูพุด ุงููุฏ:
1. ูุงฺฏโูุง browser console ุฑู ฺฺฉ ฺฉูุฏ
2. ุฏุฑ Supabaseุ ุจุฎุด **Logs** ุฑู ุจุจูุฏ
3. ุฌุฏูู `admin_audit_log` ุฑู ุจุฑุฑุณ ฺฉูุฏ

---

โ **ูพูู ุงุฏูู ุขูุงุฏู ุงุณุช!** ุญุงูุง ูโุชูุงูุฏ ุดุฑูุน ุจู ูุฑูุด ู ูุฏุฑุช ฺฉุงุฑุจุฑุงู ฺฉูุฏ! ๐
